<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Parser Generators an Introduction | Governing Dynamics</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Parser Generators an Introduction" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Prologue The first stage of the compilation process is the pasring and undestanding the sytax of a language. Parsers job is look at code and make sure it follows the approved syntax of the grammer and also manipulate code structure to add or extract information" />
<meta property="og:description" content="Prologue The first stage of the compilation process is the pasring and undestanding the sytax of a language. Parsers job is look at code and make sure it follows the approved syntax of the grammer and also manipulate code structure to add or extract information" />
<link rel="canonical" href="/governing_dynamics/compilers/2024/04/15/parser-generator.html" />
<meta property="og:url" content="/governing_dynamics/compilers/2024/04/15/parser-generator.html" />
<meta property="og:site_name" content="Governing Dynamics" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-04-15T06:21:52-04:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Parser Generators an Introduction" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-04-15T06:21:52-04:00","datePublished":"2024-04-15T06:21:52-04:00","description":"Prologue The first stage of the compilation process is the pasring and undestanding the sytax of a language. Parsers job is look at code and make sure it follows the approved syntax of the grammer and also manipulate code structure to add or extract information","headline":"Parser Generators an Introduction","mainEntityOfPage":{"@type":"WebPage","@id":"/governing_dynamics/compilers/2024/04/15/parser-generator.html"},"url":"/governing_dynamics/compilers/2024/04/15/parser-generator.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/governing_dynamics/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/governing_dynamics/feed.xml" title="Governing Dynamics" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/governing_dynamics/">Governing Dynamics</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/governing_dynamics/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Parser Generators an Introduction</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2024-04-15T06:21:52-04:00" itemprop="datePublished">Apr 15, 2024
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h3 id="prologue">Prologue</h3>
<p>The first stage of the compilation process is the pasring and undestanding the sytax of a language. Parsers job is look at code and make sure it follows the approved syntax of the grammer and also manipulate code structure to add or extract information</p>

<h3 id="what-are-parser-generators">What are Parser Generators</h3>
<p>Programs that recognize languages are called parsers or syntax analyzers. A grammar is just a set of rules, each one expressing the structure of a phrase. The ANTLR tool and tools like yaac translates grammars to parsers which are ready made code to parse the defined laguage in the grammar. Grammars themselves follow the syntax of a language optimized for specifying other languages</p>

<h3 id="an-example-of-a-grammar">An example of a grammar</h3>
<p>The grammar below can be used parse an array of integers.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">grammar</span> <span class="no">ArrayInit</span><span class="p">;</span>
<span class="n">init</span> <span class="p">:</span> <span class="s1">'{'</span> <span class="n">value</span> <span class="p">(</span><span class="s1">','</span> <span class="n">value</span><span class="p">)</span><span class="o">*</span> <span class="s1">'}'</span> <span class="p">;</span> <span class="c1"># define a array</span>
<span class="n">value</span> <span class="p">:</span> <span class="n">init</span> <span class="c1"># define the value as an INT Type</span>
      <span class="o">|</span> <span class="no">INT</span>
      <span class="p">;</span>
<span class="no">INT</span> <span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">+</span> <span class="p">;</span> <span class="c1"># define what is an INT</span>
<span class="no">WS</span> <span class="p">:</span> <span class="p">[</span> <span class="p">\</span><span class="n">t</span><span class="p">\</span><span class="n">n</span><span class="p">]</span><span class="o">+</span> <span class="o">-&gt;</span> <span class="n">skip</span> <span class="p">;</span> <span class="c1"># Skip white spaces</span></code></pre></figure>

<h3 id="how-to-organize-code">How to organize code</h3>

<p>We can organize the code in following way for Antlr to generate parsers from the g4 file. Keep the <code class="language-plaintext highlighter-rouge">g4</code> files in a <code class="language-plaintext highlighter-rouge">antlr4</code> directory and make the sure the package structure matches between the <code class="language-plaintext highlighter-rouge">java</code> code and <code class="language-plaintext highlighter-rouge">antlr4</code></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">└── exampleAntlr
    ├── LICENSE
    ├── README.md
    ├── exampleAntlr.iml
    ├── pom.xml
    ├── src
    │   └── main
    │       ├── antlr4
    │       │   └── com
    │       │       └── srini
    │       │           └── antrl4
    │       │               ├── ArrayInit.g4
    │       ├── java
    │       │   └── com
    │       │       └── srini
    │       │           └── antrl4
    │       │               └── TestAntlr.java</code></pre></figure>

<h3 id="run-the-generated-parser">Run the generated parser</h3>
<p>A maven install can generate the lexer parser for the g4 grammar. 
The below code can take an array like <code class="language-plaintext highlighter-rouge">{1,2,3,4}</code> and parse it and form the tree of the its components.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="nc">ANTLRInputStream</span> <span class="n">input</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ANTLRInputStream</span><span class="o">(</span><span class="s">"{1,2,3,4}"</span><span class="o">);</span>
<span class="nc">ArrayInitLexer</span> <span class="n">lexer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayInitLexer</span><span class="o">(</span><span class="n">input</span><span class="o">);</span> 
<span class="nc">CommonTokenStream</span> <span class="n">tokens</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CommonTokenStream</span><span class="o">(</span><span class="n">lexer</span><span class="o">);</span>
<span class="nc">ArrayInitParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayInitParser</span><span class="o">(</span><span class="n">tokens</span><span class="o">);</span>
<span class="nc">ParseTree</span> <span class="n">tree</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="na">init</span><span class="o">();</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">tree</span><span class="o">.</span><span class="na">toStringTree</span><span class="o">(</span><span class="n">parser</span><span class="o">));</span></code></pre></figure>

<h3 id="the-output-of-the-parser">The output of the parser</h3>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">(</span>init <span class="o">{</span> <span class="o">(</span>value 1<span class="o">)</span> , <span class="o">(</span>value 2<span class="o">)</span> , <span class="o">(</span>value 3<span class="o">)</span> , <span class="o">(</span>value 4<span class="o">)</span> <span class="o">})</span></code></pre></figure>

<p>So the parser has taken the array and broken it down to its compoenents of array start token the integer values and array end token.Now when we look at grammar syntax we can relate to it better.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">init {</code> refers to start of an array represented in the grammer line no 1<code class="language-plaintext highlighter-rouge">init : '{' </code></li>
  <li><code class="language-plaintext highlighter-rouge">value</code> is the Interger values of the array</li>
</ul>

<h3 id="a-bad-input">A bad input</h3>

<p>If we have input like <code class="language-plaintext highlighter-rouge">{1,2,3sadas,4}</code>  which has a bad integer in the array then the parser would generate an error</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">line 1:6 token recognition error at: <span class="s1">'s'</span>
line 1:7 token recognition error at: <span class="s1">'a'</span>
line 1:8 token recognition error at: <span class="s1">'d'</span>
line 1:9 token recognition error at: <span class="s1">'a'</span>
line 1:10 token recognition error at: <span class="s1">'s'</span></code></pre></figure>


  </div><a class="u-url" href="/governing_dynamics/compilers/2024/04/15/parser-generator.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/governing_dynamics/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Governing Dynamics</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Governing Dynamics</li><li><a class="u-email" href="mailto:srinivasan.raghavan88@gmail.com">srinivasan.raghavan88@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/sraghavan88"><svg class="svg-icon"><use xlink:href="/governing_dynamics/assets/minima-social-icons.svg#github"></use></svg> <span class="username">sraghavan88</span></a></li><li><a href="https://www.twitter.com/raghavan_srini"><svg class="svg-icon"><use xlink:href="/governing_dynamics/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">raghavan_srini</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Govering Dynamics is my blog where i am going to share my experience in  Software Security, Engineering leadership , Java Language, Algorithms, Economics</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
